<div class="row">
  <div class="col-lg-8 col-md-10 col-12 m-auto">
    <h3 class="mt-3 mb-0 text-center">Add new Product</h3>
    <p class="lead font-weight-normal opacity-8 mb-7 text-center">
      This information will let us know more about you.
    </p>
    <form method="post" action="<%= appUrl %>/admin/products/add" class="form-add-product">
        <div class="card mt-4" id="basic-info">
            <div class="card-header">
                <h5>Basic Info</h5>
              </div>
              <div class="card-body pt-0">
                <div class="row">
                  <div class="col-6">
                    <div class="input-group input-group-static">
                      <label>Product name:</label>
                      <input
                        name="product-name"
                        type="text"
                        class="form-control"
                        placeholder="Enter product name..."
                      />
                    </div>
                  </div>
                  <div class="col-6">
                    <div class="input-group input-group-static">
                      <label>Categories</label>
                      <select
                        type="text"
                        class="form-control"
                        id="form-select"
                        placeholder=""
                      ></select>
                    </div>
                  </div>
                </div>
                <div class="row my-2">
                  <div class="col-12">
                    <div class="input-group input-group-static">
                      <label class="">Price:</label>
                      <input
                        type="text"
                        class="form-control"
                        name="price"
                        id=""
                        placeholder="Enter product price..."
                      />
                    </div>
                  </div>
                  <div class="col-12 mt-3">
                    <div class="row">
                      <div class="col-12">
                        <div class="input-group input-group-static">
                          <label class="">Description:</label>
                          <textarea
                            class="form-control"
                            id=""
                            name="details"
                            cols="30"
                            rows="5"
                          ></textarea>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
        </div>
        <button type="submit" class="btn btn-primary">Submit</button>
    </form>
    </div>
  </div>
</div>
<script>
  // Lấy đối tượng select
  const selectInputEle = document.querySelector("#form-select");

  // Gọi API
  fetch("<%= appUrl %>/api/categories")
    .then((response) => {
      if (!response.ok) {
        throw new Error("Network response was not ok");
      }
      return response.json();
    })
    .then((data) => {
      // Dữ liệu từ API
      const categories = data.categories;

      // Cập nhật select element
      categories.forEach((category) => {
        const option = document.createElement("option");
        option.value = category.id; // Giả sử category có trường id
        option.text = category.name; // Giả sử category có trường name
        selectInputEle.appendChild(option);
      });
    })
    .catch((error) => {
      console.error("Error fetching data:", error);
    });
</script>
